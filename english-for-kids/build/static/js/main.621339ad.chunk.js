(this["webpackJsonpcodejam-chess"]=this["webpackJsonpcodejam-chess"]||[]).push([[0],{22:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);c(22);var a,s=c(1),n=c(19),r=c.n(n),i=c(4),o=c(8),l=c(2),j=[{category:"clothes",image:"clothes.png"},{category:"actions-a",image:"dance.png"},{category:"actions-b",image:"sleep.png"},{category:"actions-c",image:"cook.png"},{category:"food",image:"food.png"},{category:"emotions",image:"happy.png"},{category:"animals-a",image:"owl.png"},{category:"animals-b",image:"raccoon.png"}];!function(e){e[e.Train=0]="Train",e[e.Play=1]="Play",e[e.Started=2]="Started"}(a||(a={}));var d=c(0),u=function(e){var t=e.loginForm,c=e.setLoginForm,n=e.currentAction,r=e.setCurrentAction,u=e.shuffledAudios,m=e.count,b=(e.setCount,Object(s.useState)(!1)),h=Object(i.a)(b,2),g=h[0],O=h[1],f=Object(s.useState)("pink"),x=Object(i.a)(f,2),p=x[0],y=x[1],v=Object(s.useRef)(),N=Object(l.f)(),S=function(e){v.current&&!v.current.contains(e.target)&&O(!1)};Object(s.useEffect)((function(){return document.addEventListener("mousedown",S),function(){return document.removeEventListener("mousedown",S)}})),Object(s.useEffect)((function(){n!==a.Play&&r(a.Train),O(!1)}),[N.pathname]);return Object(d.jsxs)("header",{children:[Object(d.jsxs)("span",{ref:v,children:[Object(d.jsx)("div",{className:"hamburger-menu",onClick:function(){O(!g)},children:[1,2,3].map((function(e){return Object(d.jsx)("div",{className:"line line-".concat(e," \n                    ").concat(g?"cross":""," ").concat("blue"===p?"light-blue":"")},"line-"+e)}))}),Object(d.jsx)("nav",{className:"".concat(!0===g?"navbar active":"navbar"," ").concat("blue"===p?"blue":""),children:Object(d.jsxs)("ul",{className:"nav-list",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/",exact:!0,className:"nav-link ".concat("/"===N.pathname?"active":""),children:"Main Page"})}),j.map((function(e,t){return Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/category/"+e.category,className:"nav-link \n                                    ".concat(N.pathname.includes("/category/"+e.category)?"active":""),children:e.category})},t)})),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/statistics",className:"nav-link ".concat("/statistics"===N.pathname?"active":""),children:"Statistics"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/login",className:"log-in-button",onClick:function(){return O(!1),c(!0),void console.log(t)},children:"Log in"})})]})})]}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsxs)("div",{className:"toggler",children:[Object(d.jsx)("input",{type:"checkbox",className:"checkbox",id:"checkbox",checked:n!==a.Train,onChange:function(){y("blue"===p?"pink":"blue"),r(n===a.Train?a.Play:a.Train)}}),Object(d.jsxs)("label",{htmlFor:"checkbox",className:"label",children:[Object(d.jsx)("div",{className:"play-mode",children:"Play"}),Object(d.jsx)("div",{className:"train-mode",children:"Train"}),Object(d.jsx)("div",{className:"ball"})]})]}),n!==a.Train&&"/"!==N.pathname?Object(d.jsx)("button",{className:"start-game",onClick:function(e){return n===a.Started&&new Audio(u[m]).play(),void r(a.Started)},children:n===a.Started?"repeat":"play"}):Object(d.jsx)("div",{})]})]})},m=function(){return Object(d.jsxs)("footer",{children:[Object(d.jsx)("a",{href:"https://github.com/Wellval",children:"Github"}),Object(d.jsxs)("div",{className:"rs-logo-year",children:["2021",Object(d.jsx)("a",{className:"logo-link",href:"https://rs.school/js/",children:Object(d.jsx)("img",{src:"../rs-school-logo.svg",alt:""})})]})]})},b=function(e){var t=e.imageSrc,c=e.category;return Object(d.jsxs)(o.b,{to:"/category/"+c,className:"pink-card",children:[Object(d.jsx)("img",{src:t}),Object(d.jsx)("p",{children:c})]},Math.random())},h=function(){return Object(d.jsx)("main",{children:Object(d.jsx)("div",{className:"main-wrapper",children:j.map((function(e,t){return Object(d.jsx)("div",{className:"main-card-container",children:Object(d.jsx)(b,{imageSrc:e.image,category:e.category})})}))})})},g=function(e){var t=e.choices,c=e.currentAction;return Object(d.jsx)("div",{className:"rating",children:c===a.Started?t.map((function(e){return!0===e?Object(d.jsx)("i",{className:"fas fa-star"}):Object(d.jsx)("i",{className:"fas fa-heart-broken"})})):""})},O=c(17),f=c(21),x=c.n(f),p=function(e){var t=e.shuffledAudios,c=e.category,s=e.currentAction,n=e.card,r=e.index,i=e.choices,o=e.setChoices,l=e.count,j=e.setCount,u=e.failures,m=e.setFailures,b={trained:0,correct:0,incorrect:0,percentage:0},h=function(e,t,c){if(localStorage.getItem(e)){var a=JSON.parse(localStorage.getItem(e));a[c]++,localStorage.setItem(e,JSON.stringify(a))}else localStorage.setItem(e,JSON.stringify(b))},g=function(e,t){if(s===a.Train)return t.preventDefault(),n.name===e&&(n.flipped=!n.flipped),n},f=function(e){var c;e.stopPropagation(),s===a.Started&&(t[l].includes(n.name)?(c=n.name,o([].concat(Object(O.a)(i),[!0])),j(l+1),h(c,0,"correct"),new Audio("/well-done.mp3").play(),n.name===c&&(n.guessed=!n.guessed),setTimeout((function(){new Audio(t[l+1]).play()}),2e3)):function(e){h(e,0,"incorrect"),o([].concat(Object(O.a)(i),[!1])),new Audio("/error.mp3").play(),m(u+1)}(n.name),t.slice(l).length-1===0&&(0===u?new Audio("/success.wav").play():new Audio("/failure.mp3").play(),setTimeout((function(){location.pathname="/"}),4e3)))};return Object(d.jsxs)(x.a,{isFlipped:n.flipped,flipDirection:"vertical",children:[Object(d.jsxs)("div",{className:"pink-card",onClick:function(e){!function(e){e.preventDefault(),"fas fa-redo-alt"!==e.target.classList.value&&s===a.Train&&new Audio("/"+c.category+"/"+n.name+".mp3").play(),s===a.Train&&h(n.name,0,"trained")}(e),f(e)},children:[Object(d.jsx)("img",{className:s!==a.Train?"play-mode":"",src:"/"+c.category+"/"+n.name+".png"}),s===a.Train?Object(d.jsxs)("p",{className:"word",children:[n.name,Object(d.jsx)("span",{children:Object(d.jsx)("i",{className:"fas fa-redo-alt",onClick:function(e){return g(n.name,e)}})})]}):""]}),Object(d.jsxs)("div",{className:"pink-card",onMouseLeave:function(e){return g(n.name,e)},children:[Object(d.jsx)("img",{className:s!==a.Train?"play-mode":"",src:"/"+c.category+"/"+n.name+".png"}),s===a.Train?Object(d.jsxs)("p",{className:"word",children:[c.rus[r],Object(d.jsx)("span",{children:Object(d.jsx)("i",{className:"fas fa-redo-alt"})})]}):""]})]},Date().toLocaleString())},y=function(e){var t=e.loginForm,c=e.setLoginForm,n=e.setChoices,r=e.choices,o=e.currentAction,l=e.category,j=e.shuffledAudios,u=e.count,m=e.setCount,b=e.failures,h=e.setFailures,O=Object(s.useState)([]),f=Object(i.a)(O,2),x=f[0],y=f[1],v=Object(s.useRef)(),N=Object(s.useState)(),S=Object(i.a)(N,2),k=(S[0],S[1],function(e){v.current&&!v.current.contains(e.target)&&(c(!1),console.log(t))});Object(s.useEffect)((function(){return document.addEventListener("mousedown",k),function(){return document.removeEventListener("mousedown",k)}})),Object(s.useEffect)((function(){if(l.images){var e=Array.from(l.images).map((function(e){return{name:e,flipped:!1,guessed:!1}}));y(e)}n([])}),[o,location.pathname]),Object(s.useEffect)((function(){o===a.Started&&new Audio(j[u]).play()}),[j]);return Object(d.jsxs)("main",{children:[Object(d.jsx)("h2",{children:l.category}),Object(d.jsx)(g,{choices:r,currentAction:o}),u===j.length&&o===a.Started?Object(d.jsx)("div",{className:"overlay",children:0===b?Object(d.jsx)("div",{className:"overlay",children:Object(d.jsx)("h2",{className:"win",children:"Success!"})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"loose",children:"Work more!"}),Object(d.jsxs)("p",{children:["Number of mistakes: ",b]})]})}):Object(d.jsx)("div",{className:"main-wrapper",children:x.map((function(e,t){return Object(d.jsx)("div",{className:!0===e.guessed&&o===a.Started?"card-container guessed":"card-container",id:"".concat(e.name),children:Object(d.jsx)(p,{category:l,currentAction:o,card:e,index:t,shuffledAudios:j,failures:b,setFailures:h,choices:r,setChoices:n,count:u,setCount:m})})}))})]})},v=[{category:"food",images:["cheese","cake","cherry","coconut","hamburger","meat","sandwich","watermelon"],rus:["\u0441\u044b\u0440","\u043f\u0438\u0440\u043e\u0433","\u0432\u0438\u0448\u043d\u044f","\u043a\u043e\u043a\u043e\u0441","\u0433\u0430\u043c\u0431\u0443\u0440\u0433\u0435\u0440","\u043c\u044f\u0441\u043e","\u0431\u0443\u0442\u0435\u0440\u0431\u0440\u043e\u0434","\u0430\u0440\u0431\u0443\u0437"]},{category:"clothes",images:["blouse","bag","dress","hat","skirt","sweater","t-shirt","trousers"],rus:["\u0431\u043b\u0443\u0437\u0430","\u0441\u0443\u043c\u043a\u0430","\u043f\u043b\u0430\u0442\u044c\u0435","\u0448\u043b\u044f\u043f\u0430","\u044e\u0431\u043a\u0430","\u0441\u0432\u0438\u0442\u0435\u0440","\u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0430","\u0448\u0442\u0430\u043d\u044b"]},{category:"emotions",images:["angry","bored","happy","insidious","sad","scared","shy","surprised"],rus:["\u0437\u043b\u043e\u0439","\u0441\u043a\u0443\u0447\u0430\u044e\u0449\u0438\u0439","\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0438\u0441\u043f\u0443\u0433\u0430\u043d\u043d\u044b\u0439","\u0441\u0442\u0435\u0441\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439","\u0443\u0434\u0438\u0432\u043b\u0435\u043d\u043d\u044b\u0439"]},{category:"animals-a",images:["eagle","giraffe","lamb","octopus","owl","shark","snake","squirrel"],rus:["\u043e\u0440\u0435\u043b","\u0436\u0438\u0440\u0430\u0444","\u044f\u0433\u043d\u0435\u043d\u043e\u043a","\u043e\u0441\u043c\u0438\u043d\u043e\u0433","\u0441\u043e\u0432\u0430","\u0430\u043a\u0443\u043b\u0430","\u0437\u043c\u0435\u044f","\u0431\u0435\u043b\u043a\u0430"]},{category:"animals-b",images:["cat","crab","dog","fish","fox","panda","raccoon","zebra"],rus:["\u043a\u043e\u0442","\u043a\u0440\u0430\u0431","\u0441\u043e\u0431\u0430\u043a\u0430","\u0440\u044b\u0431\u0430","\u043b\u0438\u0441\u0430","\u043f\u0430\u043d\u0434\u0430","\u0435\u043d\u043e\u0442","\u0437\u0435\u0431\u0440\u0430"]},{category:"actions-a",images:["dance","fly","read","ring","run","sing","ski","swim"],rus:["\u0442\u0430\u043d\u0446\u0435\u0432\u0430\u0442\u044c","\u043b\u0435\u0442\u0430\u0442\u044c","\u0447\u0438\u0442\u0430\u0442\u044c","\u0437\u0432\u043e\u043d\u0438\u0442\u044c","\u0431\u0435\u0436\u0430\u0442\u044c","\u043f\u0435\u0442\u044c","\u043a\u0430\u0442\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043b\u044b\u0436\u0430\u0445","\u043f\u043b\u0430\u0432\u0430\u0442\u044c"]},{category:"actions-b",images:["catch","cry","hang","jump","present","sleep","walk","teach"],rus:["\u043b\u043e\u0432\u0438\u0442\u044c","\u043f\u043b\u0430\u043a\u0430\u0442\u044c","\u0432\u0438\u0441\u0435\u0442\u044c","\u043f\u0440\u044b\u0433\u0430\u0442\u044c","\u0434\u0430\u0440\u0438\u0442\u044c","\u0441\u043f\u0430\u0442\u044c","\u0445\u043e\u0434\u0438\u0442\u044c","\u043e\u0431\u0443\u0447\u0430\u0442\u044c"]},{category:"actions-c",images:["carry","cook","drink","eat","giggle","hug","ride","scratch"],rus:["\u043d\u0435\u0441\u0442\u0438","\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c","\u043f\u0438\u0442\u044c","\u0435\u0441\u0442\u044c","\u0445\u0438\u0445\u0438\u043a\u0430\u0442\u044c","\u043e\u0431\u043d\u0438\u043c\u0430\u0442\u044c","\u0435\u0445\u0430\u0442\u044c","\u0446\u0430\u0440\u0430\u043f\u0430\u0442\u044c"]}],N=function(e){e.category;return Object(d.jsxs)("main",{children:[Object(d.jsx)("h2",{children:"Statistics"}),Object(d.jsx)("div",{className:"stats-container",children:Object(d.jsxs)("table",{className:"stats-table",children:[Object(d.jsx)("thead",{className:"table-header",children:Object(d.jsxs)("tr",{className:"stats-titles",children:[Object(d.jsx)("th",{className:"stats-item",children:"Category"}),Object(d.jsx)("th",{className:"stats-item",children:"Word"}),Object(d.jsx)("th",{className:"stats-item",children:"Translation"}),Object(d.jsx)("th",{className:"stats-item",children:"Trained"}),Object(d.jsx)("th",{className:"stats-item",children:"Correct"}),Object(d.jsx)("th",{className:"stats-item",children:"Incorrect"}),Object(d.jsx)("th",{className:"stats-item",children:"Percentage"})]})}),Object(d.jsx)("tbody",{children:v.map((function(e){return e.images.map((function(t,c){var a=JSON.parse(localStorage.getItem(t)),s=localStorage.getItem(t)?+a.trained:0,n=localStorage.getItem(t)?+a.correct:0,r=localStorage.getItem(t)?+a.incorrect:0,i=0===n&&0===r?"0%":(100/(n+r)*n).toFixed(2)+"%";return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.category," "]}),Object(d.jsxs)("td",{children:[" ",t," "]}),Object(d.jsxs)("td",{children:[" ",e.rus[c]," "]}),Object(d.jsxs)("td",{children:[" ",s," "]}),Object(d.jsxs)("td",{children:[" ",n," "]}),Object(d.jsxs)("td",{children:[" ",r," "]}),Object(d.jsxs)("td",{children:[" ",i," "]})]})}))}))})]})})]})},S=function(){return Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsxs)("div",{className:"login-wrapper",children:[Object(d.jsx)("h1",{children:"Please Log In"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Username"}),Object(d.jsx)("input",{type:"text"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Password"}),Object(d.jsx)("input",{type:"password"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"Submit"})})]})]})})},k=function(){var e=Object(s.useState)(a.Train),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)([]),j=Object(i.a)(r,2),b=j[0],g=j[1],O=Object(s.useState)([]),f=Object(i.a)(O,2),x=f[0],p=f[1],k=Object(s.useState)(0),w=Object(i.a)(k,2),A=w[0],C=w[1],T=Object(s.useState)(!1),F=Object(i.a)(T,2),L=F[0],E=F[1],I=Object(s.useState)(0),P=Object(i.a)(I,2),J=P[0],D=P[1],M=Object(s.useState)([]),W=Object(i.a)(M,2),q=W[0],R=W[1],z=v.filter((function(e){return e.category===location.pathname.slice(10)}))[0];return Object(s.useEffect)((function(){var e;z&&g(z.images.map((function(e){return"/".concat(z.category,"/").concat(e,".mp3")}))),null===(e=document.querySelector("#checkbox"))||void 0===e||e.setAttribute("checked","false")}),[location.pathname]),Object(s.useEffect)((function(){c===a.Started&&R(b.slice().sort((function(){return Math.random()-.5}))),D(0)}),[c]),Object(d.jsxs)("div",{className:"view",children:[Object(d.jsxs)(o.a,{children:[Object(d.jsx)(u,{currentAction:c,setCurrentAction:n,shuffledAudios:q,count:J,setCount:D,loginForm:L,setLoginForm:E}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/category/:name",render:function(e){return Object(d.jsx)(y,{name:e.match.params.name,currentAction:c,category:v.filter((function(t){return t.category===e.match.params.name}))[0],shuffledAudios:q,count:J,setCount:D,failures:A,setFailures:C,choices:x,setChoices:p,loginForm:L,setLoginForm:E})}}),Object(d.jsx)(l.a,{path:"/statistics",render:function(e){return Object(d.jsx)(N,{category:z})}}),Object(d.jsx)(l.a,{path:"/login",render:S}),Object(d.jsx)(l.a,{exact:!0,path:"/",render:h})]})]}),Object(d.jsx)(m,{})]})};r.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.621339ad.chunk.js.map