(this["webpackJsonpcodejam-chess"]=this["webpackJsonpcodejam-chess"]||[]).push([[0],{22:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);c(22);var a,s=c(1),n=c(19),r=c.n(n),i=c(6),o=c(8),l=c(2),j=[{category:"clothes",image:"clothes.png"},{category:"actions-a",image:"dance.png"},{category:"actions-b",image:"sleep.png"},{category:"actions-c",image:"cook.png"},{category:"food",image:"food.png"},{category:"emotions",image:"happy.png"},{category:"animals-a",image:"owl.png"},{category:"animals-b",image:"raccoon.png"}];!function(e){e[e.Train=0]="Train",e[e.Play=1]="Play",e[e.Started=2]="Started"}(a||(a={}));var d=c(0),u=function(e){var t=e.currentAction,c=e.setCurrentAction,n=e.shuffledAudios,r=e.count,u=(e.setCount,Object(s.useState)(!1)),m=Object(i.a)(u,2),b=m[0],h=m[1],g=Object(s.useState)("pink"),O=Object(i.a)(g,2),f=O[0],p=O[1],x=Object(s.useRef)(),y=Object(l.f)(),v=function(e){x.current&&!x.current.contains(e.target)&&h(!1)};Object(s.useEffect)((function(){return document.addEventListener("mousedown",v),function(){return document.removeEventListener("mousedown",v)}})),Object(s.useEffect)((function(){t!==a.Play&&c(a.Train),h(!1)}),[y.pathname]);return Object(d.jsxs)("header",{children:[Object(d.jsxs)("span",{ref:x,children:[Object(d.jsx)("div",{className:"hamburger-menu",onClick:function(){h(!b)},children:[1,2,3].map((function(e){return Object(d.jsx)("div",{className:"line line-".concat(e," \n                    ").concat(b?"cross":""," ").concat("blue"===f?"light-blue":"")},"line-"+e)}))}),Object(d.jsx)("nav",{className:"".concat(!0===b?"navbar active":"navbar"," ").concat("blue"===f?"blue":""),children:Object(d.jsxs)("ul",{className:"nav-list",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/",exact:!0,className:"nav-link ".concat("/"===y.pathname?"active":""),children:"Main Page"})}),j.map((function(e,t){return Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/category/"+e.category,className:"nav-link \n                                    ".concat(y.pathname.includes("/category/"+e.category)?"active":""),children:e.category})},t)})),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/statistics",className:"nav-link ".concat("/statistics"===y.pathname?"active":""),children:"Statistics"})})]})})]}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsxs)("div",{className:"toggler",children:[Object(d.jsx)("input",{type:"checkbox",className:"checkbox",id:"checkbox",checked:t!==a.Train,onChange:function(){p("blue"===f?"pink":"blue"),c(t===a.Train?a.Play:a.Train)}}),Object(d.jsxs)("label",{htmlFor:"checkbox",className:"label",children:[Object(d.jsx)("div",{className:"play-mode",children:"Play"}),Object(d.jsx)("div",{className:"train-mode",children:"Train"}),Object(d.jsx)("div",{className:"ball"})]})]}),t!==a.Train&&"/"!==y.pathname?Object(d.jsx)("button",{className:"start-game",onClick:function(e){return t===a.Started&&new Audio(n[r]).play(),void c(a.Started)},children:t===a.Started?"repeat":"play"}):Object(d.jsx)("div",{})]})]})},m=function(){return Object(d.jsxs)("footer",{children:[Object(d.jsx)("a",{href:"https://github.com/Wellval",children:"Github"}),Object(d.jsxs)("div",{className:"rs-logo-year",children:["2021",Object(d.jsx)("a",{className:"logo-link",href:"https://rs.school/js/",children:Object(d.jsx)("img",{src:"../rs-school-logo.svg",alt:""})})]})]})},b=function(){return Object(d.jsx)("main",{children:Object(d.jsx)("div",{className:"main-wrapper",children:j.map((function(e,t){return Object(d.jsx)("div",{className:"main-card-container",children:Object(d.jsxs)(o.b,{to:"/category/"+e.category,className:"pink-card",children:[Object(d.jsx)("img",{src:e.image}),Object(d.jsx)("p",{children:e.category})]},t)})}))})})},h=c(17),g=c(21),O=c.n(g),f=function(e){var t=e.choices,c=e.currentAction;return Object(d.jsx)("div",{className:"rating",children:c===a.Started?t.map((function(e){return!0===e?Object(d.jsx)("i",{className:"fas fa-star"}):Object(d.jsx)("i",{className:"fas fa-heart-broken"})})):""})},p=function(e){var t=e.setChoices,c=e.choices,n=e.currentAction,r=e.category,o=e.shuffledAudios,l=e.count,j=e.setCount,u=e.failures,m=e.setFailures,b=Object(s.useState)([]),g=Object(i.a)(b,2),p=g[0],x=g[1],y={trained:0,correct:0,incorrect:0,percentage:0};Object(s.useEffect)((function(){if(r.images){var e=Array.from(r.images).map((function(e){return{name:e,flipped:!1,guessed:!1}}));x(e)}t([])}),[n,location.pathname]);var v=function(e,t){n===a.Train&&(t.preventDefault(),x(p.map((function(t){return t.name===e&&(t.flipped=!t.flipped),t}))))},N=function(e,t,c){if(localStorage.getItem(e)){var a=JSON.parse(localStorage.getItem(e));a[c]++,localStorage.setItem(e,JSON.stringify(a))}else localStorage.setItem(e,JSON.stringify(y))};Object(s.useEffect)((function(){n===a.Started&&new Audio(o[l]).play()}),[o]);var S=function(e,s){s.stopPropagation(),n===a.Started&&(o[l].includes(e)?function(e){t([].concat(Object(h.a)(c),[!0])),j(l+1),N(e,0,"correct"),new Audio("/well-done.mp3").play(),p.map((function(t){t.name===e&&(t.guessed=!t.guessed,console.log(t))})),setTimeout((function(){new Audio(o[l+1]).play()}),2e3)}(e):function(e){N(e,0,"incorrect"),t([].concat(Object(h.a)(c),[!1])),new Audio("/error.mp3").play(),m(u+1)}(e),o.slice(l).length-1===0&&(0===u?new Audio("/success.wav").play():new Audio("/failure.mp3").play(),setTimeout((function(){location.pathname="/"}),4e3)))};return Object(d.jsxs)("main",{children:[Object(d.jsx)("h2",{children:r.category}),Object(d.jsx)(f,{choices:c,currentAction:n}),l===o.length&&n===a.Started?Object(d.jsx)("div",{className:"overlay",children:0===u?Object(d.jsx)("div",{className:"overlay",children:Object(d.jsx)("h2",{className:"win",children:"Success!"})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"loose",children:"Work more!"}),Object(d.jsxs)("p",{children:["Number of mistakes: ",u]})]})}):Object(d.jsx)("div",{className:"main-wrapper",children:p.map((function(e,t){return Object(d.jsx)("div",{className:!0===e.guessed&&n===a.Started?"card-container guessed":"card-container",id:"".concat(e.name),onClick:function(t){!function(e,t){t.preventDefault(),"fas fa-redo-alt"!==t.target.classList.value&&n===a.Train&&new Audio("/"+r.category+"/"+e+".mp3").play(),n===a.Train&&N(e,0,"trained")}(e.name,t),S(e.name,t)},children:Object(d.jsxs)(O.a,{isFlipped:e.flipped,flipDirection:"vertical",children:[Object(d.jsxs)("div",{className:"pink-card",id:"".concat(e.name),children:[Object(d.jsx)("img",{className:n!==a.Train?"play-mode":"",src:"/"+r.category+"/"+e.name+".png"}),n===a.Train?Object(d.jsxs)("p",{className:"word",children:[e.name,Object(d.jsx)("span",{children:Object(d.jsx)("i",{className:"fas fa-redo-alt",onClick:function(t){return v(e.name,t)}})})]}):""]}),Object(d.jsxs)("div",{className:"pink-card",onMouseLeave:function(t){return v(e.name,t)},children:[Object(d.jsx)("img",{className:n!==a.Train?"play-mode":"",src:"/"+r.category+"/"+e.name+".png"}),n===a.Train?Object(d.jsxs)("p",{className:"word",children:[r.rus[t],Object(d.jsx)("span",{children:Object(d.jsx)("i",{className:"fas fa-redo-alt"})})]}):""]})]},t)})}))})]})},x=[{category:"food",images:["cheese","cake","cherry","coconut","hamburger","meat","sandwich","watermelon"],rus:["\u0441\u044b\u0440","\u043f\u0438\u0440\u043e\u0433","\u0432\u0438\u0448\u043d\u044f","\u043a\u043e\u043a\u043e\u0441","\u0433\u0430\u043c\u0431\u0443\u0440\u0433\u0435\u0440","\u043c\u044f\u0441\u043e","\u0431\u0443\u0442\u0435\u0440\u0431\u0440\u043e\u0434","\u0430\u0440\u0431\u0443\u0437"]},{category:"clothes",images:["blouse","bag","dress","hat","skirt","sweater","t-shirt","trousers"],rus:["\u0431\u043b\u0443\u0437\u0430","\u0441\u0443\u043c\u043a\u0430","\u043f\u043b\u0430\u0442\u044c\u0435","\u0448\u043b\u044f\u043f\u0430","\u044e\u0431\u043a\u0430","\u0441\u0432\u0438\u0442\u0435\u0440","\u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0430","\u0448\u0442\u0430\u043d\u044b"]},{category:"emotions",images:["angry","bored","happy","insidious","sad","scared","shy","surprised"],rus:["\u0437\u043b\u043e\u0439","\u0441\u043a\u0443\u0447\u0430\u044e\u0449\u0438\u0439","\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0438\u0441\u043f\u0443\u0433\u0430\u043d\u043d\u044b\u0439","\u0441\u0442\u0435\u0441\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439","\u0443\u0434\u0438\u0432\u043b\u0435\u043d\u043d\u044b\u0439"]},{category:"animals-a",images:["eagle","giraffe","lamb","octopus","owl","shark","snake","squirrel"],rus:["\u043e\u0440\u0435\u043b","\u0436\u0438\u0440\u0430\u0444","\u044f\u0433\u043d\u0435\u043d\u043e\u043a","\u043e\u0441\u043c\u0438\u043d\u043e\u0433","\u0441\u043e\u0432\u0430","\u0430\u043a\u0443\u043b\u0430","\u0437\u043c\u0435\u044f","\u0431\u0435\u043b\u043a\u0430"]},{category:"animals-b",images:["cat","crab","dog","fish","fox","panda","raccoon","zebra"],rus:["\u043a\u043e\u0442","\u043a\u0440\u0430\u0431","\u0441\u043e\u0431\u0430\u043a\u0430","\u0440\u044b\u0431\u0430","\u043b\u0438\u0441\u0430","\u043f\u0430\u043d\u0434\u0430","\u0435\u043d\u043e\u0442","\u0437\u0435\u0431\u0440\u0430"]},{category:"actions-a",images:["dance","fly","read","ring","run","sing","ski","swim"],rus:["\u0442\u0430\u043d\u0446\u0435\u0432\u0430\u0442\u044c","\u043b\u0435\u0442\u0430\u0442\u044c","\u0447\u0438\u0442\u0430\u0442\u044c","\u0437\u0432\u043e\u043d\u0438\u0442\u044c","\u0431\u0435\u0436\u0430\u0442\u044c","\u043f\u0435\u0442\u044c","\u043a\u0430\u0442\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043b\u044b\u0436\u0430\u0445","\u043f\u043b\u0430\u0432\u0430\u0442\u044c"]},{category:"actions-b",images:["catch","cry","hang","jump","present","sleep","walk","teach"],rus:["\u043b\u043e\u0432\u0438\u0442\u044c","\u043f\u043b\u0430\u043a\u0430\u0442\u044c","\u0432\u0438\u0441\u0435\u0442\u044c","\u043f\u0440\u044b\u0433\u0430\u0442\u044c","\u0434\u0430\u0440\u0438\u0442\u044c","\u0441\u043f\u0430\u0442\u044c","\u0445\u043e\u0434\u0438\u0442\u044c","\u043e\u0431\u0443\u0447\u0430\u0442\u044c"]},{category:"actions-c",images:["carry","cook","drink","eat","giggle","hug","ride","scratch"],rus:["\u043d\u0435\u0441\u0442\u0438","\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c","\u043f\u0438\u0442\u044c","\u0435\u0441\u0442\u044c","\u0445\u0438\u0445\u0438\u043a\u0430\u0442\u044c","\u043e\u0431\u043d\u0438\u043c\u0430\u0442\u044c","\u0435\u0445\u0430\u0442\u044c","\u0446\u0430\u0440\u0430\u043f\u0430\u0442\u044c"]}],y=function(e){e.category;return Object(d.jsxs)("main",{children:[Object(d.jsx)("h2",{children:"Statistics"}),Object(d.jsx)("div",{className:"stats-container",children:Object(d.jsxs)("table",{className:"stats-table",children:[Object(d.jsx)("thead",{className:"table-header",children:Object(d.jsxs)("tr",{className:"stats-titles",children:[Object(d.jsx)("th",{className:"stats-item",children:"Category"}),Object(d.jsx)("th",{className:"stats-item",children:"Word"}),Object(d.jsx)("th",{className:"stats-item",children:"Translation"}),Object(d.jsx)("th",{className:"stats-item",children:"Trained"}),Object(d.jsx)("th",{className:"stats-item",children:"Correct"}),Object(d.jsx)("th",{className:"stats-item",children:"Incorrect"}),Object(d.jsx)("th",{className:"stats-item",children:"Percentage"})]})}),Object(d.jsx)("tbody",{children:x.map((function(e){return e.images.map((function(t,c){var a=JSON.parse(localStorage.getItem(t)),s=localStorage.getItem(t)?+a.trained:0,n=localStorage.getItem(t)?+a.correct:0,r=localStorage.getItem(t)?+a.incorrect:0,i=0===n&&0===r?"0%":(100/(n+r)*n).toFixed(2)+"%";return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[" ",e.category," "]}),Object(d.jsxs)("td",{children:[" ",t," "]}),Object(d.jsxs)("td",{children:[" ",e.rus[c]," "]}),Object(d.jsxs)("td",{children:[" ",s," "]}),Object(d.jsxs)("td",{children:[" ",n," "]}),Object(d.jsxs)("td",{children:[" ",r," "]}),Object(d.jsxs)("td",{children:[" ",i," "]})]})}))}))})]})})]})},v=function(){var e=Object(s.useState)(a.Train),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)([]),j=Object(i.a)(r,2),h=j[0],g=j[1],O=Object(s.useState)([]),f=Object(i.a)(O,2),v=f[0],N=f[1],S=Object(s.useState)(0),k=Object(i.a)(S,2),w=k[0],A=k[1],T=Object(s.useState)(0),C=Object(i.a)(T,2),I=C[0],E=C[1],P=Object(s.useState)([]),J=Object(i.a)(P,2),F=J[0],L=J[1],D=x.filter((function(e){return e.category===location.pathname.slice(10)}))[0];return Object(s.useEffect)((function(){var e;D&&g(D.images.map((function(e){return"/".concat(D.category,"/").concat(e,".mp3")}))),null===(e=document.querySelector("#checkbox"))||void 0===e||e.setAttribute("checked","false")}),[location.pathname]),Object(s.useEffect)((function(){c===a.Started&&L(h.slice().sort((function(){return Math.random()-.5}))),E(0)}),[c]),Object(d.jsxs)("div",{className:"view",children:[Object(d.jsxs)(o.a,{children:[Object(d.jsx)(u,{currentAction:c,setCurrentAction:n,shuffledAudios:F,count:I,setCount:E}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/category/:name",render:function(e){return Object(d.jsx)(p,{name:e.match.params.name,currentAction:c,category:x.filter((function(t){return t.category===e.match.params.name}))[0],shuffledAudios:F,count:I,setCount:E,failures:w,setFailures:A,choices:v,setChoices:N})}}),Object(d.jsx)(l.a,{path:"/statistics",render:function(e){return Object(d.jsx)(y,{category:D})}}),Object(d.jsx)(l.a,{exact:!0,path:"/",render:b})]})]}),Object(d.jsx)(m,{})]})};r.a.render(Object(d.jsx)(v,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6bc1c40b.chunk.js.map